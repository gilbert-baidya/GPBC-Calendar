<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>Daily Devotion | Grace and Praise Bangladeshi Church</title>
    <meta name="title" content="Daily Devotion | Grace and Praise Bangladeshi Church">
    <meta name="description" content="Read today's Bible-based daily devotion and prayer from Grace and Praise Bangladeshi Church.">
    <meta name="keywords" content="daily devotion, Bible devotional, Christian devotion, daily prayer, Scripture reading, spiritual reflection, GPBC devotion">
    <meta name="robots" content="index, follow">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://gilbert-baidya.github.io/gracepraise.church/daily-devotion.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://gilbert-baidya.github.io/gracepraise.church/daily-devotion.html">
    <meta property="og:title" content="Daily Devotion | Grace and Praise Bangladeshi Church">
    <meta property="og:description" content="Read today's Bible-based daily devotion and prayer from Grace and Praise Bangladeshi Church.">
    <meta property="og:image" content="https://gilbert-baidya.github.io/gracepraise.church/images/devotion-placeholder.jpg" id="ogImage">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://gilbert-baidya.github.io/gracepraise.church/daily-devotion.html">
    <meta property="twitter:title" content="Daily Devotion | Grace and Praise Bangladeshi Church">
    <meta property="twitter:description" content="Read today's Bible-based daily devotion and prayer from Grace and Praise Bangladeshi Church.">
    <meta property="twitter:image" content="https://gilbert-baidya.github.io/gracepraise.church/images/devotion-placeholder.jpg" id="twitterImage">
    
    <link rel="stylesheet" href="redesign-styles.css">
    <link rel="stylesheet" href="countdown.css">
    
    <style>
        /* Daily Devotion Page Specific Styles */
        
        .devotion-hero {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
            color: var(--color-text-inverse);
            padding: var(--spacing-xl) var(--spacing-md) var(--spacing-lg);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .devotion-hero h1 {
            color: var(--color-text-inverse);
            font-size: var(--font-4xl);
            margin-bottom: var(--spacing-sm);
        }
        
        .devotion-hero h2 {
            color: var(--color-secondary);
            font-size: var(--font-xl);
            font-weight: var(--font-normal);
            margin-bottom: var(--spacing-md);
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        .devotion-date {
            font-size: var(--font-lg);
            font-weight: var(--font-medium);
            color: var(--color-text-inverse);
            opacity: 0.9;
        }

        /* Controls */
        .devotion-controls {
            max-width: 1000px;
            margin: calc(var(--spacing-xl) * -1) auto var(--spacing-xl);
            padding: var(--spacing-md);
            background: var(--color-surface);
            box-shadow: var(--shadow-md);
            border-radius: var(--radius-lg);
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-md);
            position: relative;
            z-index: 2;
        }

        .devotion-controls-row {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            flex-wrap: wrap;
            justify-content: space-between;
        }

        .language-toggle {
            display: inline-flex;
            border: 1px solid var(--color-border);
            border-radius: var(--radius-full);
            overflow: hidden;
            background: var(--color-background);
        }

        .language-toggle button {
            border: none;
            background: transparent;
            padding: var(--spacing-sm) var(--spacing-lg);
            font-weight: var(--font-semibold);
            cursor: pointer;
            color: var(--color-text);
            transition: all var(--transition-base);
        }

        .language-toggle button.active {
            background: var(--color-primary);
            color: var(--color-text-inverse);
        }

        .language-toggle button:focus-visible {
            outline: 3px solid var(--color-secondary);
            outline-offset: 2px;
        }

        .date-strip-wrapper {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            width: 100%;
        }

        .date-strip {
            display: grid;
            grid-auto-flow: column;
            grid-auto-columns: minmax(88px, 1fr);
            gap: var(--spacing-sm);
            overflow-x: auto;
            padding: var(--spacing-xs) var(--spacing-sm);
            scrollbar-width: thin;
        }

        .date-pill {
            padding: var(--spacing-sm) var(--spacing-md);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-full);
            background: var(--color-surface);
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-base);
            min-width: 82px;
            color: var(--color-text);
        }

        .date-pill strong {
            display: block;
            color: var(--color-primary);
            font-size: var(--font-base);
        }

        .date-pill span {
            font-size: var(--font-sm);
            color: var(--color-text-light);
        }

        .date-pill.active {
            background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
            color: var(--color-text-inverse);
            border-color: transparent;
            box-shadow: var(--shadow-md);
        }

        .date-pill.active span,
        .date-pill.active strong {
            color: var(--color-text-inverse);
        }

        .date-pill:hover {
            border-color: var(--color-primary);
            transform: translateY(-1px);
        }

        .date-nav-btn {
            border: 1px solid var(--color-border);
            background: var(--color-surface);
            border-radius: var(--radius-full);
            padding: var(--spacing-sm) var(--spacing-md);
            cursor: pointer;
            transition: all var(--transition-base);
            color: var(--color-text);
        }

        .date-nav-btn:hover {
            border-color: var(--color-primary);
            color: var(--color-primary);
        }

        .jump-controls {
            display: flex;
            gap: var(--spacing-sm);
            align-items: center;
            flex-wrap: wrap;
        }

        .jump-controls select,
        .jump-controls button {
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-md);
            border: 1px solid var(--color-border);
            background: var(--color-surface);
            color: var(--color-text);
            cursor: pointer;
            font-weight: var(--font-medium);
            transition: all var(--transition-base);
        }

        .jump-controls button.primary {
            background: var(--color-primary);
            color: var(--color-text-inverse);
            border: none;
        }

        .jump-controls button.primary:hover {
            filter: brightness(0.96);
        }

        .jump-controls button:focus-visible,
        .jump-controls select:focus-visible {
            outline: 3px solid var(--color-secondary);
            outline-offset: 2px;
        }

        .devotion-meta {
            display: flex;
            gap: var(--spacing-sm);
            align-items: center;
            justify-content: center;
            color: var(--color-text-light);
            font-size: var(--font-sm);
        }

        /* Layout helpers */
        .devotion-container {
            position: relative;
            z-index: 1;
            margin-top: var(--spacing-xl);
        }

        /* Hide the interim header box to keep the layout clean */
        #devotionHeader {
            display: none;
        }
        
        
        .devotion-container {
            max-width: 800px;
            margin: 0 auto;
            padding: var(--spacing-xl) var(--spacing-md);
        }
        
        .devotion-section {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--shadow-md);
        }
        
        .scripture-section {
            background: linear-gradient(to bottom right, #faf8f5, #f5f1ea);
            border-left: 4px solid var(--color-secondary);
        }
        
        .scripture-section h3 {
            color: var(--color-primary);
            font-size: var(--font-2xl);
            margin-bottom: var(--spacing-md);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }
        
        .scripture-section h3::before {
            content: 'üìñ';
            font-size: var(--font-3xl);
        }
        
        .scripture-text {
            font-family: Georgia, 'Times New Roman', serif;
            font-size: var(--font-lg);
            line-height: var(--leading-relaxed);
            font-style: italic;
            color: var(--color-text);
            margin: 0;
            padding: var(--spacing-md);
            background: var(--color-surface);
            border-radius: var(--radius-md);
        }
        
        .reflection-section h3,
        .prayer-section h3 {
            color: var(--color-primary);
            font-size: var(--font-2xl);
            margin-bottom: var(--spacing-md);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }
        
        .reflection-section h3::before {
            content: 'üí≠';
            font-size: var(--font-3xl);
        }
        
        .prayer-section h3::before {
            content: 'üôè';
            font-size: var(--font-3xl);
        }
        
        .reflection-section {
            border-left: 4px solid var(--color-primary);
        }
        
        .prayer-section {
            border-left: 4px solid var(--color-accent);
            background: linear-gradient(to bottom right, #fefefe, #faf8f5);
        }
        
        .devotion-text {
            font-size: var(--font-base);
            line-height: var(--leading-relaxed);
            color: var(--color-text);
        }
        
        /* Share Section */
        .share-section {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            box-shadow: var(--shadow-md);
            text-align: center;
            margin-top: var(--spacing-xl);
        }
        
        .share-section h3 {
            color: var(--color-primary);
            font-size: var(--font-xl);
            margin-bottom: var(--spacing-md);
        }
        
        .share-buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--spacing-md);
            flex-wrap: wrap;
            margin-top: var(--spacing-md);
        }
        
        .share-btn {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
            padding: var(--spacing-sm) var(--spacing-lg);
            border: none;
            border-radius: var(--radius-full);
            font-size: var(--font-base);
            font-weight: var(--font-medium);
            cursor: pointer;
            transition: all var(--transition-base);
            text-decoration: none;
            color: var(--color-text-inverse);
        }
        
        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .share-btn:active {
            transform: translateY(0);
        }
        
        .share-btn:focus-visible {
            outline: 3px solid var(--color-secondary);
            outline-offset: 2px;
        }
        
        .share-btn-whatsapp {
            background: linear-gradient(135deg, #25D366, #128C7E);
        }
        
        .share-btn-facebook {
            background: linear-gradient(135deg, #1877F2, #0C63D4);
        }
        
        .share-btn-twitter {
            background: linear-gradient(135deg, #000000, #333333);
        }
        
        .share-btn-email {
            background: linear-gradient(135deg, #6b6b6b, #4a4a4a);
        }
        
        .share-btn-copy {
            background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
        }
        
        .share-btn-copy.copied {
            background: linear-gradient(135deg, #28a745, #218838);
        }
        
        /* Loading/Fallback State */
        .devotion-loading {
            text-align: center;
            padding: var(--spacing-2xl) var(--spacing-md);
            color: var(--color-text-light);
        }
        
        .devotion-loading p {
            font-size: var(--font-lg);
            margin-bottom: var(--spacing-md);
        }
        
        .devotion-fallback {
            text-align: center;
            padding: var(--spacing-2xl) var(--spacing-lg);
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            max-width: 700px;
            margin: 0 auto;
        }
        
        .devotion-fallback::before {
            content: 'üìñ';
            font-size: 4rem;
            display: block;
            margin-bottom: var(--spacing-md);
            opacity: 0.3;
        }
        
        .devotion-fallback h3 {
            color: var(--color-primary);
            margin-bottom: var(--spacing-md);
            font-size: var(--font-2xl);
        }
        
        .devotion-fallback p {
            color: var(--color-text);
            font-size: var(--font-lg);
            line-height: var(--leading-relaxed);
            margin-bottom: var(--spacing-md);
        }
        
        .devotion-fallback .fallback-scripture {
            background: linear-gradient(to bottom right, #faf8f5, #f5f1ea);
            padding: var(--spacing-lg);
            border-radius: var(--radius-md);
            border-left: 4px solid var(--color-secondary);
            margin: var(--spacing-lg) 0;
        }
        
        .devotion-fallback .fallback-scripture p {
            font-family: Georgia, 'Times New Roman', serif;
            font-style: italic;
            color: var(--color-text);
            font-size: var(--font-base);
            margin: 0;
        }
        
        .devotion-fallback .fallback-links {
            display: flex;
            gap: var(--spacing-md);
            justify-content: center;
            flex-wrap: wrap;
            margin-top: var(--spacing-xl);
        }
        
        .devotion-fallback .fallback-links a {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
            padding: var(--spacing-sm) var(--spacing-lg);
            background: var(--color-primary);
            color: var(--color-text-inverse);
            text-decoration: none;
            border-radius: var(--radius-full);
            font-weight: var(--font-medium);
            transition: all var(--transition-base);
        }
        
        .devotion-fallback .fallback-links a:hover {
            background: var(--color-primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        /* Action Buttons Section */
        .action-buttons-section {
            max-width: 800px;
            margin: var(--spacing-xl) auto 0;
            padding: 0 var(--spacing-md);
            text-align: center;
        }
        
        .action-buttons-section h3 {
            color: var(--color-primary);
            font-size: var(--font-xl);
            margin-bottom: var(--spacing-md);
            font-weight: var(--font-semibold);
        }
        
        .action-buttons-section p {
            color: var(--color-text-light);
            margin-bottom: var(--spacing-lg);
            font-size: var(--font-base);
        }
        
        .action-buttons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-xl);
        }
        
        .action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-lg);
            background: var(--color-surface);
            border: 2px solid var(--color-border);
            border-radius: var(--radius-lg);
            text-decoration: none;
            color: var(--color-text);
            transition: all var(--transition-base);
            box-shadow: var(--shadow-sm);
        }
        
        .action-btn:hover {
            border-color: var(--color-secondary);
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }
        
        .action-btn:focus-visible {
            outline: 3px solid var(--color-secondary);
            outline-offset: 2px;
        }
        
        .action-btn-icon {
            font-size: var(--font-3xl);
            line-height: 1;
        }
        
        .action-btn-title {
            font-weight: var(--font-semibold);
            font-size: var(--font-lg);
            color: var(--color-primary);
        }
        
        .action-btn-desc {
            font-size: var(--font-sm);
            color: var(--color-text-light);
            line-height: var(--leading-relaxed);
        }
        
        /* Simple Share Section */
        .simple-share-section {
            margin-top: var(--spacing-lg);
            padding-top: var(--spacing-md);
            border-top: 1px solid var(--color-border);
            text-align: center;
        }
        
        .simple-share-section p {
            font-size: var(--font-sm);
            color: var(--color-text-light);
            margin-bottom: var(--spacing-sm);
        }
        
        .simple-share-buttons {
            display: flex;
            justify-content: center;
            gap: var(--spacing-sm);
            flex-wrap: wrap;
        }
        
        .simple-share-btn {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
            padding: var(--spacing-xs) var(--spacing-md);
            background: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-full);
            font-size: var(--font-sm);
            color: var(--color-text);
            text-decoration: none;
            transition: all var(--transition-base);
        }
        
        .simple-share-btn:hover {
            border-color: var(--color-secondary);
            background: var(--color-background);
        }
        
        .simple-share-btn:focus-visible {
            outline: 2px solid var(--color-secondary);
            outline-offset: 2px;
        }
        
        /* Devotion Navigation */
        .devotion-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 800px;
            margin: var(--spacing-xl) auto 0;
            padding: var(--spacing-lg) var(--spacing-md);
            gap: var(--spacing-md);
        }
        
        .devotion-nav-btn {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
            padding: var(--spacing-sm) var(--spacing-lg);
            background: var(--color-surface);
            border: 2px solid var(--color-border);
            border-radius: var(--radius-md);
            font-size: var(--font-base);
            font-weight: var(--font-medium);
            color: var(--color-primary);
            text-decoration: none;
            transition: all var(--transition-base);
        }
        
        .devotion-nav-btn:hover {
            border-color: var(--color-primary);
            background: var(--color-background);
            transform: translateX(0);
        }
        
        .devotion-nav-btn.prev:hover {
            transform: translateX(-2px);
        }
        
        .devotion-nav-btn.next:hover {
            transform: translateX(2px);
        }
        
        .devotion-nav-btn:focus-visible {
            outline: 3px solid var(--color-secondary);
            outline-offset: 2px;
        }
        
        .devotion-nav-btn[disabled] {
            opacity: 0.4;
            cursor: not-allowed;
            pointer-events: none;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .devotion-hero h1 {
                font-size: var(--font-3xl);
            }
            
            .devotion-hero h2 {
                font-size: var(--font-lg);
            }
            
            .devotion-controls {
                margin-top: calc(var(--spacing-lg) * -1);
            }
            
            .devotion-container {
                padding: var(--spacing-lg) var(--spacing-sm);
            }
            
            .devotion-section {
                padding: var(--spacing-md);
            }
            
            .scripture-text {
                font-size: var(--font-base);
            }
            
            .share-buttons {
                gap: var(--spacing-sm);
            }
            
            .share-btn {
                font-size: var(--font-sm);
                padding: var(--spacing-sm) var(--spacing-md);
            }
        }
    </style>
</head>
<body>
    <!-- Skip to main content for keyboard users -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Sticky Header/Nav -->
    <header>
        <nav>
            <div class="nav-container">
                <a href="index.html" class="logo">GPBC</a>
                <button class="mobile-menu-btn" aria-label="Toggle mobile menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-links">
                    <li><a href="index.html#live">LIVE</a></li>
                    <li><a href="index.html#home">Home</a></li>
                    <li class="nav-dropdown">
                        <a href="about.html" aria-haspopup="true" aria-expanded="false">About <span class="dropdown-arrow">‚ñº</span></a>
                        <ul class="dropdown-menu">
                            <li><a href="history.html">Our History</a></li>
                            <li><a href="mission.html">Our Mission</a></li>
                            <li><a href="leadership.html">Our Leadership</a></li>
                            <li><a href="beliefs.html">Our Beliefs</a></li>
                            <li><a href="core-values.html">Our Core Values</a></li>
                            <li><a href="position-papers.html">Position Papers</a></li>
                            <li><a href="testimonies.html">Testimonies</a></li>
                            <li><a href="songbook.html">GPBC Song Book</a></li>
                        </ul>
                    </li>
                    <li><a href="index.html#next-service">Next Service</a></li>
                    <li><a href="calendar.html">Calendar</a></li>
                    <li><a href="gallery.html">Gallery</a></li>
                    <li><a href="index.html#prayer">Prayer</a></li>
                    <li><a href="daily-devotion.html" class="active">Daily Devotion</a></li>
                    <li><a href="give.html">Give</a></li>
                </ul>
            </div>
        </nav>
        <div class="mobile-overlay"></div>
    </header>

    <main id="main-content">
        <!-- Hero Section -->
        <section class="devotion-hero">
            <h1>Daily Devotion</h1>
            <h2>A Daily Word from Scripture</h2>
            <p class="devotion-date" id="devotionDate">Loading...</p>
        </section>

        <!-- Controls -->
        <section class="devotion-controls" aria-label="Devotion controls">
            <div class="devotion-controls-row">
                <div class="language-toggle" role="group" aria-label="Language toggle">
                    <button type="button" id="langEn" class="active">English</button>
                    <button type="button" id="langBn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</button>
                </div>
                <div class="devotion-meta" id="devotionMeta">
                    <span id="selectedDateLabel">‚Äî</span>
                </div>
            </div>

            <div class="devotion-controls-row">
                <div class="date-strip-wrapper">
                    <button class="date-nav-btn" id="prevDayBtn" aria-label="Previous day">‚Üê</button>
                    <div class="date-strip" id="dateStrip" aria-label="Choose a date"></div>
                    <button class="date-nav-btn" id="nextDayBtn" aria-label="Next day">‚Üí</button>
                </div>
            </div>

            <div class="devotion-controls-row">
                <div class="jump-controls" aria-label="Jump to date">
                    <label class="sr-only" for="monthSelect">Month</label>
                    <select id="monthSelect" aria-label="Select month"></select>
                    <label class="sr-only" for="daySelect">Day</label>
                    <select id="daySelect" aria-label="Select day"></select>
                    <button type="button" class="primary" id="goToDateBtn">Go</button>
                    <button type="button" id="todayBtn">Today</button>
                </div>
            </div>
        </section>

        <!-- Devotion Content Container -->
        <div class="devotion-container">
            <!-- Content will be dynamically loaded here -->
            <div id="devotionContent">
                <!-- Header -->
                <article class="devotion-section" id="devotionHeader">
                    <p class="devotion-meta"><span aria-hidden="true">üìñ</span> <span id="devotionSubtitle">Devotion of the day</span></p>
                    <h2 id="devotionTitle" style="margin: 0;">Loading devotion...</h2>
                </article>

                <!-- Scripture Section -->
                <article class="devotion-section scripture-section">
                    <h3 id="bibleReference">Philippians 4:6-7 (NIV)</h3>
                    <blockquote class="scripture-text" id="bibleText">
                        Do not be anxious about anything, but in every situation, by prayer and petition, with thanksgiving, present your requests to God. And the peace of God, which transcends all understanding, will guard your hearts and your minds in Christ Jesus.
                    </blockquote>
                    
                    <!-- Simple Share Section (directly below Scripture) -->
                    <div class="simple-share-section">
                        <p>Share this devotion:</p>
                        <div class="simple-share-buttons">
                            <a href="#" 
                               class="simple-share-btn" 
                               id="shareSimpleFacebook"
                               aria-label="Share on Facebook"
                               target="_blank"
                               rel="noopener noreferrer">
                                <span aria-hidden="true">üë•</span> Facebook
                            </a>
                            <a href="#" 
                               class="simple-share-btn" 
                               id="shareSimpleWhatsApp"
                               aria-label="Share on WhatsApp"
                               target="_blank"
                               rel="noopener noreferrer">
                                <span aria-hidden="true">üì±</span> WhatsApp
                            </a>
                            <button 
                                class="simple-share-btn" 
                                id="copySimpleLink"
                                aria-label="Copy link">
                                <span aria-hidden="true">üîó</span> <span id="copySimpleLinkText">Copy Link</span>
                            </button>
                        </div>
                    </div>
                </article>

                <!-- Reflection Section -->
                <article class="devotion-section reflection-section">
                    <h3>Reflection</h3>
                    <div class="devotion-text" id="devotionMessage">
                        <p>In our fast-paced world, worry and anxiety can easily consume us. Bills to pay, relationships to maintain, work pressures, health concerns‚Äîthe list seems endless. Yet God's Word offers us a powerful antidote: prayer with thanksgiving.</p>
                        
                        <p>Notice that Paul doesn't say "don't worry if everything is going well." He says "in every situation"‚Äîwhether you're facing challenges or celebrating victories. The key is to bring everything to God in prayer, not with complaints, but with thanksgiving.</p>
                        
                        <p>When we choose gratitude in the midst of our struggles, something supernatural happens. God's peace‚Äîa peace that defies human logic‚Äîguards our hearts and minds. This isn't about pretending problems don't exist; it's about acknowledging that God is bigger than any problem we face.</p>
                        
                        <p>Today, instead of dwelling on what's troubling you, pause and thank God for what He's already done. Watch how His peace transforms your perspective and protects your heart.</p>
                    </div>
                </article>

                <!-- Prayer Section -->
                <article class="devotion-section prayer-section">
                    <h3>Prayer</h3>
                    <div class="devotion-text" id="devotionPrayer">
                        <p>Heavenly Father, thank You for the promise of Your peace. Today, I choose to bring my worries and anxieties to You instead of carrying them alone. I acknowledge that You are sovereign over every situation I face.</p>
                        
                        <p>Help me to cultivate a heart of thanksgiving, even when circumstances are difficult. Teach me to see Your hand at work in my life, both in the blessings and in the trials. Guard my heart and mind with Your supernatural peace that surpasses all understanding.</p>
                        
                        <p>When anxiety tries to creep in, remind me to turn to You in prayer. Replace my worry with worship, my fear with faith, and my anxiety with assurance of Your unfailing love.</p>
                        
                        <p>In Jesus' precious name, Amen.</p>
                    </div>
                </article>

                <!-- Devotion Navigation (Previous/Next) -->
                <nav class="devotion-navigation" aria-label="Navigate between devotions">
                    <a href="#" 
                       class="devotion-nav-btn prev" 
                       id="prevDevotionBtn"
                       aria-label="Go to previous devotion">
                        <span aria-hidden="true">‚Üê</span> Previous Devotion
                    </a>
                    <a href="#" 
                       class="devotion-nav-btn next" 
                       id="nextDevotionBtn"
                       aria-label="Go to next devotion">
                        Next Devotion <span aria-hidden="true">‚Üí</span>
                    </a>
                </nav>

                <!-- Action Buttons Section -->
                <section class="action-buttons-section">
                    <h3>Continue Your Spiritual Journey</h3>
                    <p>Explore more ways to connect with God and our church community</p>
                    
                    <div class="action-buttons-grid">
                        <a href="calendar.html#prayer" class="action-btn" aria-label="Submit a prayer request">
                            <span class="action-btn-icon" aria-hidden="true">üôè</span>
                            <span class="action-btn-title">Prayer Requests</span>
                            <span class="action-btn-desc">Share your prayer needs with our community</span>
                        </a>
                        
                        <a href="calendar.html" class="action-btn" aria-label="View upcoming church services">
                            <span class="action-btn-icon" aria-hidden="true">üìÖ</span>
                            <span class="action-btn-title">Upcoming Services</span>
                            <span class="action-btn-desc">Join us for worship and fellowship</span>
                        </a>
                        
                        <a href="testimonies.html" class="action-btn" aria-label="Read testimonies from our members">
                            <span class="action-btn-icon" aria-hidden="true">üí¨</span>
                            <span class="action-btn-title">Testimonies</span>
                            <span class="action-btn-desc">Be encouraged by God's work in our lives</span>
                        </a>
                    </div>
                </section>
            </div>

            <!-- Fallback Message (hidden by default, shown when content unavailable) -->
            <div class="devotion-fallback" id="devotionFallback" style="display: none;">
                <h3>Today's devotion is being prepared</h3>
                <p>We are prayerfully preparing today's devotional message. Please check back shortly.</p>
                
                <div class="fallback-scripture">
                    <p>"Wait for the LORD; be strong and take heart and wait for the LORD."</p>
                    <p style="margin-top: var(--spacing-xs); font-size: var(--font-sm); opacity: 0.8;">‚Äî Psalm 27:14</p>
                </div>
                
                <p style="margin-top: var(--spacing-lg);">
                    While you wait, we invite you to explore other ways to connect with our church community.
                </p>
                
                <div class="fallback-links">
                    <a href="calendar.html#prayer">
                        <span aria-hidden="true">üôè</span> Prayer Requests
                    </a>
                    <a href="calendar.html">
                        <span aria-hidden="true">üìÖ</span> Upcoming Services
                    </a>
                    <a href="testimonies.html">
                        <span aria-hidden="true">üí¨</span> Testimonies
                    </a>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="calendar.html">Calendar</a></li>
                    <li><a href="gallery.html">Gallery</a></li>
                    <li><a href="prayer-request.html">Prayer</a></li>
                    <li class="nav-dropdown">
                        <a href="daily-devotion.html" aria-haspopup="true" aria-expanded="false">Devotion <span class="dropdown-arrow">‚ñº</span></a>
                        <ul class="dropdown-menu">
                            <li><a href="daily-devotion.html">Daily Devotion</a></li>
                            <li><a href="couples-devotion.html">Couples Devotion</a></li>
                            <li><a href="family-devotion.html">Family Devotion</a></li>
                            <li><a href="youth-devotion.html">Youth Devotion</a></li>
                            <li><a href="children-devotion.html">Children Devotion</a></li>
                            <li><a href="fasting-21days.html">21 Days Fasting</a></li>
                            <li><a href="fasting-30days.html">30 Days Fasting</a></li>
                            <li><a href="fasting-40days.html">40 Days Fasting</a></li>
                            <li><a href="gratitude-fasting.html">Gratitude Fasting (2026 - 26 Days)</a></li>
                        </ul>
                    </li>
                    <li><a href="give.html">Give</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Contact</h3>
                <address>
                    <p><strong>Grace and Praise Bangladeshi Church</strong></p>
                    <p>1325 Richardson Street, CA 92408</p>
                    <p>Email: <a href="mailto:info@gracepraise.church">info@gracepraise.church</a></p>
                    <p>Email: <a href="mailto:bangladeshi.church@gmail.com">bangladeshi.church@gmail.com</a></p>
                </address>
            </div>

            <div class="footer-section">
                <h3>Connect</h3>
                <ul class="social-links">
                    <li><a href="#" aria-label="Facebook">[Facebook Icon]</a></li>
                    <li><a href="#" aria-label="YouTube">[YouTube Icon]</a></li>
                    <li><a href="#" aria-label="Instagram">[Instagram Icon]</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2026 Grace and Praise Bangladeshi Church. All rights reserved.</p>
            <p><a href="privacy-policy.html">Privacy Policy</a> | <a href="terms-conditions.html">Terms &amp; Conditions</a></p>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Daily Devotion: dynamic navigation, language toggle, date jump, and graceful fallback.
        document.addEventListener('DOMContentLoaded', function() {
            // -----------------------------
            // Data: replace or inject window.DEVOTIONS with your full dataset
            // -----------------------------
            const DEVOTIONS = (window.DEVOTIONS && window.DEVOTIONS.length ? window.DEVOTIONS : [
                {
                    date: '2026-01-01',
                    title: 'He Knows Your Name',
                    titleBn: '‡¶§‡¶ø‡¶®‡¶ø ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶ú‡¶æ‡¶®‡ßá‡¶®',
                    verse: 'Isaiah 43:1',
                    verseText: '‚ÄúFear not, for I have redeemed you; I have called you by name, you are mine.‚Äù',
                    verseTextBn: '‚Äú‡¶≠‡¶Ø‡¶º ‡¶ï‡¶∞‡ßã‡¶®‡¶æ, ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶Ü‡¶Æ‡¶ø ‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá ‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßá‡¶õ‡¶ø; ‡¶Ü‡¶Æ‡¶ø ‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá ‡¶®‡¶æ‡¶Æ‡ßá ‡¶°‡ßá‡¶ï‡ßá‡¶õ‡¶ø, ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶∞‡•§‚Äù',
                    reflection: 'God‚Äôs personal call means you are never anonymous to Him. He loves you in particular, not just the crowd. Redemption is His decisive act to claim you as His own. Let this quiet fear and shame: you belong. Because you are His, you can walk through uncertainty with confidence that He will guard and guide.',
                    reflectionBn: '‡¶à‡¶∂‡ßç‡¶¨‡¶∞‡ßá‡¶∞ ‡¶°‡¶æ‡¶ï‡ßá ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ï‡¶ñ‡¶®‡ßã ‡¶Ö‡¶ö‡ßá‡¶®‡¶æ ‡¶®‡¶ì‡•§ ‡¶§‡¶ø‡¶®‡¶ø ‡¶≠‡¶ø‡¶°‡¶º ‡¶®‡¶Ø‡¶º, ‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶§‡¶≠‡¶æ‡¶¨‡ßá ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡ßá‡¶®‡•§ ‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§‡¶ø ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶∏‡¶ø‡¶¶‡ßç‡¶ß‡¶æ‡¶®‡ßç‡¶§ ‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞‡•§ ‡¶è‡¶á ‡¶∏‡¶§‡ßç‡¶Ø ‡¶≠‡¶Ø‡¶º ‡¶ì ‡¶≤‡¶ú‡ßç‡¶ú‡¶æ ‡¶∂‡¶æ‡¶®‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶ï: ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶§‡¶æ‡¶Å‡¶∞‡•§ ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶¨‡¶≤‡ßá‡¶á ‡¶Ö‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶Ø‡¶º‡¶§‡¶æ‡¶Ø‡¶º‡¶ì ‡¶Ü‡¶§‡ßç‡¶Æ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏‡ßá ‡¶ö‡¶≤‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßã; ‡¶§‡¶ø‡¶®‡¶ø ‡¶∞‡¶ï‡ßç‡¶∑‡¶æ ‡¶ì ‡¶¶‡¶ø‡¶∂‡¶æ ‡¶¶‡ßá‡¶¨‡ßá‡¶®‡•§',
                    prayer: 'Father, thank You for calling me by name. Silence every lie that says I‚Äôm forgotten and let my heart rest in belonging to You.',
                    prayerBn: '‡¶™‡¶ø‡¶§‡¶æ, ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶®‡¶æ‡¶Æ‡ßá ‡¶°‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§ ‡¶Ø‡ßá ‡¶∏‡¶¨ ‡¶Æ‡¶ø‡¶•‡ßç‡¶Ø‡¶æ ‡¶¨‡¶≤‡ßá ‡¶Ü‡¶Æ‡¶ø ‡¶≠‡ßÅ‡¶≤‡ßá ‡¶ó‡ßá‡¶õ‡¶ø ‡¶∏‡ßá‡¶ó‡ßÅ‡¶≤‡ßã ‡¶®‡ßÄ‡¶∞‡¶¨ ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶π‡ßÉ‡¶¶‡¶Ø‡¶º‡¶ï‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶•‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶§‡¶æ‡¶Ø‡¶º ‡¶¨‡¶ø‡¶∂‡ßç‡¶∞‡¶æ‡¶Æ ‡¶¶‡¶ø‡¶®.'
                },
                {
                    date: '2026-12-25',
                    title: 'Christ Is Born',
                    titleBn: '‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü ‡¶ú‡¶®‡ßç‡¶Æ‡ßá‡¶õ‡ßá‡¶®',
                    verse: 'Luke 2:11',
                    verseText: '‚ÄúFor unto you is born this day‚Ä¶ a Savior, who is Christ the Lord.‚Äù',
                    verseTextBn: '‚Äú‡¶ï‡¶æ‡¶∞‡¶£ ‡¶Ü‡¶ú ‡¶§‡ßã‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ú‡¶®‡ßç‡¶Æ‡¶æ‡¶≤‡ßá‡¶®‚Ä¶ ‡¶â‡¶¶‡ßç‡¶ß‡¶æ‡¶∞‡¶ï‡¶∞‡ßç‡¶§‡¶æ, ‡¶Ø‡¶ø‡¶®‡¶ø ‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü ‡¶™‡ßç‡¶∞‡¶≠‡ßÅ‡•§‚Äù',
                    reflection: 'We celebrate God‚Äôs gift‚ÄîJesus our Savior. He is Christ the Lord, worthy of worship. Receive Him anew with faith and joy. Let gratitude shape your day: the Lord Himself has come near to save.',
                    reflectionBn: '‡¶Ü‡¶ú ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶à‡¶∂‡ßç‡¶¨‡¶∞‡ßá‡¶∞ ‡¶¶‡¶æ‡¶® ‡¶â‡¶¶‡¶Ø‡¶æ‡¶™‡¶® ‡¶ï‡¶∞‡¶ø‚Äî‡¶Ø‡¶ø‡¶∂‡ßÅ ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶â‡¶¶‡ßç‡¶ß‡¶æ‡¶∞‡¶ï‡¶∞‡ßç‡¶§‡¶æ‡•§ ‡¶§‡¶ø‡¶®‡¶ø ‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü ‡¶™‡ßç‡¶∞‡¶≠‡ßÅ, ‡¶â‡¶™‡¶æ‡¶∏‡¶®‡¶æ‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø‡•§ ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏ ‡¶ì ‡¶Ü‡¶®‡¶®‡ßç‡¶¶‡ßá ‡¶§‡¶æ‡¶Å‡¶ï‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶∞‡ßá ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡ßã‡•§ ‡¶ï‡ßÉ‡¶§‡¶ú‡ßç‡¶û‡¶§‡¶æ ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶® ‡¶ó‡¶°‡¶º‡ßÅ‡¶ï: ‡¶™‡ßç‡¶∞‡¶≠‡ßÅ ‡¶®‡¶ø‡¶ú‡ßá‡¶á ‡¶∞‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ï‡¶æ‡¶õ‡ßá ‡¶è‡¶∏‡ßá‡¶õ‡ßá‡¶®‡•§',
                    prayer: 'Savior and Lord, thank You for coming. I worship You with joy today.',
                    prayerBn: '‡¶â‡¶¶‡ßç‡¶ß‡¶æ‡¶∞‡¶ï‡¶∞‡ßç‡¶§‡¶æ ‡¶ì ‡¶™‡ßç‡¶∞‡¶≠‡ßÅ, ‡¶Ü‡¶∏‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§ ‡¶Ü‡¶ú ‡¶Ü‡¶®‡¶®‡ßç‡¶¶‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶â‡¶™‡¶æ‡¶∏‡¶®‡¶æ ‡¶ï‡¶∞‡¶ø‡•§'
                }
            ]);

            // -----------------------------
            // Elements
            // -----------------------------
            const dateElement = document.getElementById('devotionDate');
            const metaLabel = document.getElementById('selectedDateLabel') || document.getElementById('devotionMetaText');
            const headerTitle = document.getElementById('devotionTitle');
            const headerSubtitle = document.getElementById('devotionSubtitle');
            const referenceEl = document.getElementById('bibleReference');
            const verseEl = document.getElementById('bibleText');
            const reflectionEl = document.getElementById('devotionMessage');
            const prayerEl = document.getElementById('devotionPrayer');
            const contentEl = document.getElementById('devotionContent');
            const fallbackEl = document.getElementById('devotionFallback');
            const prevBtn = document.getElementById('prevDevotionBtn');
            const nextBtn = document.getElementById('nextDevotionBtn');
            const dateStrip = document.getElementById('dateStrip');
            const prevDayBtn = document.getElementById('prevDayBtn');
            const nextDayBtn = document.getElementById('nextDayBtn');
            const monthSelect = document.getElementById('monthSelect');
            const daySelect = document.getElementById('daySelect');
            const goToDateBtn = document.getElementById('goToDateBtn');
            const todayBtn = document.getElementById('todayBtn');
            const langEnBtn = document.getElementById('langEn');
            const langBnBtn = document.getElementById('langBn');

            // -----------------------------
            // State
            // -----------------------------
            let currentLang = 'en';
            const today = new Date();
            let selectedDate = today;

            // Helper: format dates
            const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            const monthNamesLong = ['January','February','March','April','May','June','July','August','September','October','November','December'];

            function toDateKey(d) {
                const y = d.getFullYear();
                const m = String(d.getMonth() + 1).padStart(2, '0');
                const day = String(d.getDate()).padStart(2, '0');
                return `${y}-${m}-${day}`;
            }

            function parseDateKey(key) {
                const [y, m, d] = key.split('-').map(Number);
                return new Date(y, m - 1, d);
            }

            function formatDisplayDate(d) {
                return d.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' });
            }

            function formatMonthDay(d) {
                return `${monthNames[d.getMonth()]} ${d.getDate()}`;
            }

            // Build lookup and ensure today has content
            const devotionByKey = new Map();
            DEVOTIONS.forEach(item => devotionByKey.set(item.date, item));

            function defaultDevotion(key) {
                return {
                    date: key,
                    title: 'God So Loved',
                    titleBn: '‡¶à‡¶∂‡ßç‡¶¨‡¶∞ ‡¶è‡¶§ ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶≤‡ßá‡¶®',
                    verse: 'John 3:16',
                    verseText: '‚ÄúFor God so loved the world, that he gave his only Son, that whoever believes in him should not perish but have eternal life.‚Äù',
                    verseTextBn: '‚Äú‡¶ï‡¶æ‡¶∞‡¶£ ‡¶à‡¶∂‡ßç‡¶¨‡¶∞ ‡¶™‡ßÉ‡¶•‡¶ø‡¶¨‡ßÄ‡¶ï‡ßá ‡¶è‡¶§ ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶≤‡ßá‡¶® ‡¶Ø‡ßá ‡¶§‡¶ø‡¶®‡¶ø ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶è‡¶ï‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶™‡ßÅ‡¶§‡ßç‡¶∞ ‡¶¶‡¶ø‡¶≤‡ßá‡¶®, ‡¶Ø‡ßá‡¶® ‡¶Ø‡ßá ‡¶ï‡ßá‡¶â ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏ ‡¶ï‡¶∞‡ßá ‡¶∏‡ßá ‡¶¨‡¶ø‡¶®‡¶æ‡¶∂ ‡¶®‡¶æ ‡¶π‡¶Ø‡¶º ‡¶¨‡¶∞‡¶Ç ‡¶Ö‡¶®‡¶®‡ßç‡¶§ ‡¶ú‡ßÄ‡¶¨‡¶® ‡¶™‡¶æ‡¶Ø‡¶º‡•§‚Äù',
                    reflection: 'Today we rest in the simple, life-changing truth that God loves you personally. His love is proven in Jesus, given so you can live. Whatever else is uncertain, His love is not. Receive it, trust it, and let it shape your steps today.',
                    reflectionBn: '‡¶Ü‡¶ú ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∏‡¶π‡¶ú ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶ú‡ßÄ‡¶¨‡¶®-‡¶¨‡¶¶‡¶≤‡¶æ‡¶®‡ßã ‡¶∏‡¶§‡ßç‡¶Ø‡ßá ‡¶¨‡¶ø‡¶∂‡ßç‡¶∞‡¶æ‡¶Æ ‡¶®‡¶ø‡¶á: ‡¶à‡¶∂‡ßç‡¶¨‡¶∞ ‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶§‡¶≠‡¶æ‡¶¨‡ßá ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡ßá‡¶®‡•§ ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶Æ‡¶æ‡¶£ ‡¶Ø‡¶ø‡¶∂‡ßÅ, ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ú‡ßÄ‡¶¨‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ‡•§ ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶∏‡¶¨ ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶Ö‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶π‡¶≤‡ßá‡¶ì ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ ‡¶®‡¶Ø‡¶º‡•§ ‡¶è‡¶ü‡¶ø ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡ßã, ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏ ‡¶ï‡¶∞‡ßã ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶ú ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶™‡¶¶‡¶ï‡ßç‡¶∑‡ßá‡¶™ ‡¶ó‡¶°‡¶º‡¶§‡ßá ‡¶¶‡¶æ‡¶ì‡•§',
                    prayer: 'Father, thank You for loving me in Jesus. Help me live from Your love and share it freely today.',
                    prayerBn: '‡¶™‡¶ø‡¶§‡¶æ, ‡¶Ø‡¶ø‡¶∂‡ßÅ‡¶§‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶¨‡¶æ‡¶Å‡¶ö‡¶§‡ßá ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶ú ‡¶§‡¶æ ‡¶â‡¶¶‡¶æ‡¶∞‡¶≠‡¶æ‡¶¨‡ßá ‡¶≠‡¶æ‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡ßÅ‡¶®‡•§'
                };
            }

            const todayKey = toDateKey(today);
            if (!devotionByKey.has(todayKey)) {
                devotionByKey.set(todayKey, defaultDevotion(todayKey));
            }

            let availableDates = [...devotionByKey.keys()].sort();

            // Populate month/day selects
            function populateSelectors() {
                monthSelect.innerHTML = '';
                monthNamesLong.forEach((name, idx) => {
                    const opt = document.createElement('option');
                    opt.value = idx;
                    opt.textContent = name;
                    monthSelect.appendChild(opt);
                });
                daySelect.innerHTML = '';
                for (let d = 1; d <= 31; d++) {
                    const opt = document.createElement('option');
                    opt.value = d;
                    opt.textContent = d;
                    daySelect.appendChild(opt);
                }
                monthSelect.value = selectedDate.getMonth();
                daySelect.value = selectedDate.getDate();
            }

            // Render date strip
            function renderDateStrip() {
                dateStrip.innerHTML = '';
                // Always include today, plus nearby days, plus available content dates
                const set = new Set();
                const baseRange = generateRangeKeys(today, 3);
                baseRange.forEach(k => set.add(k));
                availableDates.forEach(k => set.add(k));
                const sourceDates = Array.from(set).sort();

                sourceDates.forEach(key => {
                    const d = parseDateKey(key);
                    const pill = document.createElement('button');
                    pill.className = 'date-pill';
                    pill.setAttribute('data-date', key);
                    pill.innerHTML = `<strong>${monthNames[d.getMonth()]} ${d.getDate()}</strong><span>${d.toLocaleDateString('en-US',{weekday:'short'})}</span>`;
                    if (toDateKey(selectedDate) === key) {
                        pill.classList.add('active');
                        pill.setAttribute('aria-current', 'date');
                    }
                    pill.addEventListener('click', () => {
                        selectedDate = d;
                        renderAll();
                    });
                    dateStrip.appendChild(pill);
                });
            }

            function generateRangeKeys(centerDate, radius) {
                const keys = [];
                for (let i = -radius; i <= radius; i++) {
                    const d = new Date(centerDate.getFullYear(), centerDate.getMonth(), centerDate.getDate() + i);
                    keys.push(toDateKey(d));
                }
                return keys;
            }

            // Render devotion
            function renderDevotion() {
                // Snap selectedDate to an existing key if it was regenerated from string
                selectedDate = typeof selectedDate === 'string' ? parseDateKey(selectedDate) : new Date(selectedDate);
                const key = toDateKey(selectedDate);
                const data = devotionByKey.get(key);
                const hasData = !!data;

                // Update hero date (no year in display)
                if (dateElement) dateElement.textContent = formatDisplayDate(selectedDate);
                if (metaLabel) metaLabel.textContent = formatMonthDay(selectedDate);

                if (!hasData) {
                    contentEl.style.display = 'none';
                    fallbackEl.style.display = 'block';
                    return;
                }

                contentEl.style.display = 'block';
                fallbackEl.style.display = 'none';

                const lang = currentLang === 'bn' ? 'Bn' : '';
                const title = data[`title${lang}`] || data.title || 'Daily Devotion';
                const verse = data.verse || '';
                const verseText = data[`verseText${lang}`] || data.verseText || '';
                const reflection = data[`reflection${lang}`] || data.reflection || '';
                const prayer = data[`prayer${lang}`] || data.prayer || '';

                headerTitle.textContent = title;
                headerSubtitle.textContent = `${formatDisplayDate(selectedDate)} ‚Äî ${verse}`;
                referenceEl.textContent = verse;
                verseEl.textContent = verseText;
                reflectionEl.innerHTML = `<p>${reflection}</p>`;
                prayerEl.innerHTML = `<p>${prayer}</p>`;

                // Update sharing meta
                updateSocialMetaTags(title, verse, reflection);
            }

            // Meta tags update
            function updateSocialMetaTags(title, verse, reflection) {
                const shareTitle = `Devotion: ${verse} | Grace and Praise Bangladeshi Church`;
                const desc = `${title} ‚Äî ${reflection}`.substring(0, 160);
                const ogTitle = document.querySelector('meta[property="og:title"]');
                const ogDesc = document.querySelector('meta[property="og:description"]');
                const twTitle = document.querySelector('meta[property="twitter:title"]');
                const twDesc = document.querySelector('meta[property="twitter:description"]');
                if (ogTitle) ogTitle.setAttribute('content', shareTitle);
                if (ogDesc) ogDesc.setAttribute('content', desc);
                if (twTitle) twTitle.setAttribute('content', shareTitle);
                if (twDesc) twDesc.setAttribute('content', desc);
            }

            // Share handlers
            const pageUrl = encodeURIComponent(window.location.href);
            function getShareText() {
                const ref = referenceEl.textContent || '';
                const msg = reflectionEl.textContent || '';
                let excerpt = msg.trim().substring(0, 100);
                if (msg.length > 100) excerpt += '...';
                return `Today's Devotion ‚Äì ${ref}\n\n${excerpt}\n\nRead more: ${window.location.href}`;
            }
            function getShareTextEncoded() {
                return encodeURIComponent(getShareText());
            }

            const simpleFbBtn = document.getElementById('shareSimpleFacebook');
            if (simpleFbBtn) {
                simpleFbBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    window.open(`https://www.facebook.com/sharer/sharer.php?u=${pageUrl}`, '_blank', 'noopener,noreferrer,width=600,height=400');
                });
            }
            const simpleWaBtn = document.getElementById('shareSimpleWhatsApp');
            if (simpleWaBtn) {
                simpleWaBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    window.open(`https://wa.me/?text=${getShareTextEncoded()}`, '_blank', 'noopener,noreferrer');
                });
            }
            const simpleCopyBtn = document.getElementById('copySimpleLink');
            const simpleCopyText = document.getElementById('copySimpleLinkText');
            if (simpleCopyBtn && simpleCopyText) {
                simpleCopyBtn.addEventListener('click', function() {
                    navigator.clipboard.writeText(window.location.href).then(function() {
                        simpleCopyText.textContent = 'Copied!';
                        setTimeout(() => simpleCopyText.textContent = 'Copy Link', 2000);
                    }).catch(function() {
                        simpleCopyText.textContent = 'Unable to copy';
                        setTimeout(() => simpleCopyText.textContent = 'Copy Link', 2000);
                    });
                });
            }

            // Navigation day +/- 1
            function shiftDay(delta) {
                const d = new Date(selectedDate);
                d.setDate(selectedDate.getDate() + delta);
                selectedDate = d;
                renderAll();
            }
            if (prevDayBtn) prevDayBtn.addEventListener('click', () => shiftDay(-1));
            if (nextDayBtn) nextDayBtn.addEventListener('click', () => shiftDay(1));
            if (prevBtn) prevBtn.addEventListener('click', e => { e.preventDefault(); shiftDay(-1); });
            if (nextBtn) nextBtn.addEventListener('click', e => { e.preventDefault(); shiftDay(1); });
            if (todayBtn) todayBtn.addEventListener('click', () => { selectedDate = today; renderAll(); });

            // Jump controls
            if (goToDateBtn) {
                goToDateBtn.addEventListener('click', () => {
                    const monthIdx = parseInt(monthSelect.value, 10);
                    const day = parseInt(daySelect.value, 10);
                    const year = today.getFullYear(); // keep current year; year hidden in UI
                    const d = new Date(year, monthIdx, day);
                    if (!isNaN(d)) {
                        selectedDate = d;
                        renderAll();
                    }
                });
            }

            // Language toggle
            function setLang(lang) {
                currentLang = lang;
                langEnBtn.classList.toggle('active', lang === 'en');
                langBnBtn.classList.toggle('active', lang === 'bn');
                renderDevotion();
            }
            if (langEnBtn) langEnBtn.addEventListener('click', () => setLang('en'));
            if (langBnBtn) langBnBtn.addEventListener('click', () => setLang('bn'));

            function renderAll() {
                populateSelectors();
                renderDateStrip();
                renderDevotion();
                highlightSelected();
            }

            function highlightSelected() {
                const pills = dateStrip.querySelectorAll('.date-pill');
                pills.forEach(p => {
                    const key = p.getAttribute('data-date');
                    if (key === toDateKey(selectedDate)) {
                        p.classList.add('active');
                        p.setAttribute('aria-current', 'date');
                    } else {
                        p.classList.remove('active');
                        p.removeAttribute('aria-current');
                    }
                });
            }

            populateSelectors();
            renderAll();
        });
    </script>
    
    <!-- Mobile Menu Script -->
    <script>
        const header = document.querySelector('header');
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const navLinks = document.querySelector('.nav-links');
        const mobileOverlay = document.querySelector('.mobile-overlay');

        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        function toggleMobileMenu() {
            navLinks.classList.toggle('mobile-open');
            mobileOverlay.classList.toggle('active');
            document.body.style.overflow = navLinks.classList.contains('mobile-open') ? 'hidden' : '';
        }

        if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', toggleMobileMenu);
        }

        if (mobileOverlay) {
            mobileOverlay.addEventListener('click', toggleMobileMenu);
        }

        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                if (navLinks.classList.contains('mobile-open')) {
                    toggleMobileMenu();
                }
            });
        });
    </script>
</body>
</html>
